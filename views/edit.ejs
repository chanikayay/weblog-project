<%- include ("partials/boilerplate") %>
    <title>Edit a Post</title>
<%- include ("partials/header") %>

<div class="contents">
  <h1 style="text-align: center;">Edit a Post</h1>

  <form id="editForm" action="/update/<%= post.pathName %>" method="post">

    <label for="title">Title:</label>
    <input type="text" id="title" name="title" value="<%= post.title %>" required>

    <label for="description">Description:</label>
    <textarea id="description" name="description" required><%= post.description %></textarea>

    <label for="imageURL">GIF or Image URL:</label>
    <input type="text" id="imageURL" name="imageURL" value="<%= post.imageURL %>" required>

    <input type="hidden" id="formAction" name="formAction" value="update">
    <!-- Hidden input field for post pathname -->
    <input type="hidden" name="pathName" value="<%= post.pathName %>">
  
    <div class="edit-btn">
    <button type="button" onclick="updatePost()"><i class="bi light text-light bi-arrow-repeat"></i> Update</button>
    <button type="button" onclick="deletePost()"><i class="bi light bi-trash3"></i> Delete</button>
  </div>
  </form>


</div>

<script>
  function updatePost() {
    // Set the form action to "update"
    document.getElementById("formAction").value = "update";
    // Submit the form
    document.getElementById("editForm").submit();
  }

  function deletePost() {
    // Set the form action to "delete"
    document.getElementById("formAction").value = "delete";
    // Submit the form
    document.getElementById("editForm").submit();
  }
</script>

<%- include("./partials/footer.ejs") %>
